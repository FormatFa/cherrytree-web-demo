{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?426a","webpack:///./src/components/RichText.vue?f37d","webpack:///./vue.config.js","webpack:///./src/components/CherryReader.vue?391a","webpack:///./src/App.vue?719d","webpack:///./src/components/CherryReader.vue?2040","webpack:///./src/components/RichText.vue?33e9","webpack:///./src/components/RichText.vue","webpack:///./src/components/RichText.vue?6b0b","webpack:///./src/components/RichText.vue?b9a6","webpack:///./src/components/CherryReader.vue","webpack:///./src/components/CherryReader.vue?18f0","webpack:///./src/components/CherryReader.vue?c82f","webpack:///./src/cherrytree/CherryTree.ts","webpack:///./src/sql/SQLTool.ts","webpack:///./src/cherrytree/CherryNode.ts","webpack:///./src/cherrytree/CtbCherryTreeDao.ts","webpack:///./src/sql/VConsoleTool.ts","webpack:///./src/App.vue","webpack:///./src/App.vue?198c","webpack:///./src/App.vue?bb6c","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","publicPath","transpileDependencies","_vm","this","_h","$createElement","_c","_self","ref","attrs","scopedSlots","_u","fn","staticClass","isShowDebug","toString","on","onDebugSwitch","model","callback","$$v","expression","proxy","showNav","getCurrentNavTree","onClickNav","$event","stopPropagation","onUploadFile","isShowInputDialog","_v","isLoading","txt","cherrytree","remoteUrl","loadFromUrl","isShowErrorMsg","_s","errorMsg","staticRenderFns","_l","text","offset","content","attributes","extend","props","type","String","component","xmlParser","DOMParser","console","log","xmlContent","doc","parseFromString","texts","rich_textList","getElementsByTagName","element","attr","attr_item","nodeValue","innerHTML","components","RichText","nodeTree","cherrytreeDao","loadAllNodeTree","node_id","undefined","Error","getNodeTextById","locateFile","file","SQLTool","sql","father_id","syntax","is_richtxt","has_codebox","has_table","has_image","level","ts_creation","ts_lastsave","children","db","getSQL","nodeId","stmt","prepare","getAsObject","free","querySql","fatherMap","Map","step","row","node","set","getFatherId","forEach","map","parent_node","getChildren","setChildren","VConsoleTool","CherryReader","methods","getVConsole","showSwitch","hideSwitch","endsWith","showErrorMsg","parseCtbFile","xhr","XMLHttpRequest","open","responseType","onload","e","uInt8Array","Uint8Array","response","cherrytreedao","init","onerror","send","arrayBuffer","toTreeData","cherryNode","id","getNodeId","getName","cherryItem","temp","item","getNodeTxtById","msg","computed","treeData","getNodes","VApp","VAppBar","VAppBarNavIcon","VBtn","VCard","VCardActions","VCardText","VDialog","VDivider","VFileInput","VIcon","VMain","VNavigationDrawer","VOverlay","VProgressCircular","VSnackbar","VSpacer","VSwitch","VTextField","VTreeview","use","config","productionTip","initSql","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.8f910497.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/cherrytree-web-demo/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=2fb7d7de&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichText.vue?vue&type=style&index=0&id=79d9a3ff&scoped=true&lang=css&\"","module.exports = {\n  publicPath:\n    process.env.NODE_ENV === \"production\" ? \"/cherrytree-web-demo/\" : \"/\",\n  transpileDependencies: [\"vuetify\"],\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CherryReader.vue?vue&type=style&index=0&id=28b5114e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-navigation-drawer',{ref:\"drawer\",attrs:{\"app\":\"\",\"clipped\":true,\"hide-overlay\":false},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-switch',{staticClass:\"ml-3\",attrs:{\"label\":(\"vConsole: \" + (_vm.isShowDebug.toString()))},on:{\"change\":_vm.onDebugSwitch},model:{value:(_vm.isShowDebug),callback:function ($$v) {_vm.isShowDebug=$$v},expression:\"isShowDebug\"}})]},proxy:true}]),model:{value:(_vm.showNav),callback:function ($$v) {_vm.showNav=$$v},expression:\"showNav\"}},[_c('v-treeview',{attrs:{\"activatable\":\"\",\"open-on-click\":false,\"items\":_vm.getCurrentNavTree},on:{\"update:active\":_vm.onClickNav}})],1),_c('v-app-bar',{attrs:{\"clipped-left\":true,\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-app-bar-nav-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.showNav = !_vm.showNav}}}),_c('v-spacer'),_c('v-file-input',{staticClass:\"mt-4\",attrs:{\"placeholder\":\"upload local ctb file\",\"hide-input\":false,\"hint\":\"upload a ctb file\",\"truncate-length\":\"15\"},on:{\"change\":_vm.onUploadFile}}),_c('v-divider',{attrs:{\"vertical\":\"\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.isShowInputDialog = true}}},[_c('v-icon',{staticClass:\"ml-2\"},[_vm._v(\"mdi-cloud-download\")])],1)],1),_c('v-main',[_c('v-overlay',{attrs:{\"value\":_vm.isLoading}},[_c('v-progress-circular',{staticClass:\"ma-auto\",attrs:{\"indeterminate\":\"\",\"color\":\"primary\"}})],1),_c('CherryReader',{attrs:{\"xmlContent\":_vm.txt,\"cherrytree\":_vm.cherrytree}}),_c('v-dialog',{model:{value:(_vm.isShowInputDialog),callback:function ($$v) {_vm.isShowInputDialog=$$v},expression:\"isShowInputDialog\"}},[_c('v-card',[_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"load from url\",\"hint\":\"ctb file url\",\"required\":\"\"},model:{value:(_vm.remoteUrl),callback:function ($$v) {_vm.remoteUrl=$$v},expression:\"remoteUrl\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.isShowInputDialog = false}}},[_vm._v(\" Close \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.loadFromUrl}},[_vm._v(\" Load \")])],1)],1)],1)],1),_c('v-snackbar',{model:{value:(_vm.isShowErrorMsg),callback:function ($$v) {_vm.isShowErrorMsg=$$v},expression:\"isShowErrorMsg\"}},[_vm._v(\" \"+_vm._s(_vm.errorMsg)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reader mx-sm-auto ma-8\"},_vm._l((_vm.getRichTextList),function(text){return _c('rich-text',{key:text.offset,attrs:{\"content\":text.content,\"attributes\":text.attributes}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-body-1 paragraph\"},[_vm._v(_vm._s(_vm.content))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from \"vue\";\nexport interface RichTextData {\n  content: string;\n  attributes: Record<string, string>;\n}\nexport default Vue.extend({\n  name: \"RichText\",\n  props: {\n    content: {\n      type: String,\n    },\n    attributes: {\n      type: Object,\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RichText.vue?vue&type=template&id=79d9a3ff&scoped=true&\"\nimport script from \"./RichText.vue?vue&type=script&lang=ts&\"\nexport * from \"./RichText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RichText.vue?vue&type=style&index=0&id=79d9a3ff&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79d9a3ff\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop } from \"vue-property-decorator\";\nimport RichText, { RichTextData } from \"./RichText.vue\";\ntype TreeNode = {\n  id: number;\n  name: string;\n  children: TreeNode[];\n};\n@Component({\n  components: {\n    RichText,\n  },\n})\nexport default class CherryReader extends Vue {\n  @Prop({ type: String })\n  private xmlContent: string | undefined;\n\n  private showNav = true;\n  private xmlParser = new DOMParser();\n\n  get getRichTextList(): RichTextData[] {\n    console.log(\"try parse node..\");\n    if (this.xmlContent == null || this.xmlContent == \"\") {\n      return [];\n    }\n    console.log(this.xmlContent);\n    let doc = this.xmlParser.parseFromString(\n      this.xmlContent,\n      \"application/xml\"\n    );\n    let texts = [];\n    let rich_textList = doc.getElementsByTagName(\"rich_text\");\n    let i = 0;\n    for (let element of rich_textList) {\n      let attr: Record<string, string> = {};\n      for (let attr_item of element.attributes) {\n        if (attr_item.nodeValue != null) {\n          attr[attr_item.name] = attr_item.nodeValue;\n        }\n      }\n      texts.push({\n        offset: i++,\n        content: element.innerHTML,\n        attributes: attr,\n      });\n    }\n    return texts;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CherryReader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CherryReader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CherryReader.vue?vue&type=template&id=28b5114e&scoped=true&\"\nimport script from \"./CherryReader.vue?vue&type=script&lang=ts&\"\nexport * from \"./CherryReader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CherryReader.vue?vue&type=style&index=0&id=28b5114e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28b5114e\",\n  null\n  \n)\n\nexport default component.exports","import CherryNode from \"./CherryNode\";\nimport CherryTreeDao from \"./CherryTreeDao\";\n\nexport default class CherryTree {\n  private cherrytreeDao: CherryTreeDao | undefined;\n  private nodeTree: Array<CherryNode> = [];\n\n  public async init(cherrytreeDao: CherryTreeDao): Promise<void> {\n    this.cherrytreeDao = cherrytreeDao;\n\n    this.nodeTree = await this.cherrytreeDao.loadAllNodeTree();\n  }\n  public getNodeTxtById(node_id: number): string {\n    if (this.cherrytreeDao == undefined) {\n      throw Error(\"dao is null,please init first!\");\n    }\n    return this.cherrytreeDao.getNodeTextById(node_id);\n  }\n  public getNodes(): Array<CherryNode> {\n    return this.nodeTree;\n  }\n}\n","import { SqlJsStatic } from \"sql.js\";\nimport initSqlJs from \"sql.js\";\nrequire(\"/vue.config.js\");\n/**\n * sqlite singleton\n */\nexport default class SQLTool {\n  private static sql: SqlJsStatic;\n  private static publicPath: string =\n    process.env.NODE_ENV === \"production\" ? \"/cherrytree-web-demo/\" : \"/\";\n  public static async initSql(): Promise<void> {\n    // load from / , sql-wasm.wasm should put in public directory\n    this.sql = await initSqlJs({\n      locateFile: (file) => `${SQLTool.publicPath}${file}`,\n    });\n  }\n  public static async initSql2(): Promise<void> {\n    this.sql = await initSqlJs();\n  }\n  public static getSQL(): SqlJsStatic {\n    if (this.sql == null) {\n      // throw new Error(\"sql init fail\");\n    }\n    return this.sql;\n  }\n}\n","export default class CherryNode {\n  private node_id: number;\n  private father_id: number;\n\n  private name: string;\n  // private txt: string;\n  private syntax: string;\n  // private tags: string;\n  // private is_ro: number;\n  private is_richtxt: number;\n  private has_codebox: number;\n  private has_table: number;\n  private has_image: number;\n  private level: number;\n  private ts_creation: number;\n  private ts_lastsave: number;\n\n  private children: Array<CherryNode> = [];\n  public constructor(\n    node_id: number,\n    father_id: number,\n    name: string,\n    syntax: string,\n    is_richtxt: number,\n    has_codebox: number,\n    has_table: number,\n    has_image: number,\n    level: number,\n    ts_creation: number,\n    ts_lastsave: number\n  ) {\n    this.node_id = node_id;\n    this.father_id = father_id;\n    this.name = name;\n    this.syntax = syntax;\n    this.is_richtxt = is_richtxt;\n    this.has_codebox = has_codebox;\n    this.has_table = has_table;\n    this.has_image = has_image;\n    this.level = level;\n    this.ts_creation = ts_creation;\n    this.ts_lastsave = ts_lastsave;\n  }\n  public getNodeId(): number {\n    return this.node_id;\n  }\n  public getName(): string {\n    return this.name;\n  }\n  public setChildren(children: Array<CherryNode>): void {\n    this.children = children;\n  }\n  public getChildren(): Array<CherryNode> {\n    return this.children;\n  }\n  public getFatherId(): number {\n    return this.father_id;\n  }\n}\n","import SQLTool from \"../sql/SQLTool\";\nimport { Database } from \"sql.js\";\nimport CherryNode from \"./CherryNode\";\nimport CherryTreeDao from \"./CherryTreeDao\";\nimport { CodeBox } from \"./CherryDef\";\n\nexport class CtbCherryTreeDao implements CherryTreeDao {\n  private db: Database;\n  public constructor(data: Uint8Array) {\n    this.db = new (SQLTool.getSQL().Database)(data);\n  }\n  getCodeBoxListById(nodeId: number): CodeBox[] {\n    throw new Error(\"Method not implemented.\");\n  }\n  getNodeTextById(nodeId: number): string {\n    const stmt = this.db.prepare(\"select txt from node where node_id=:node_id\");\n    const result = stmt.getAsObject({ \":node_id\": nodeId });\n    stmt.free();\n    return <string>result[\"txt\"];\n  }\n  // public constructor(sqlStatic: SqlJsStatic, data: Uint8Array) {\n  //   this.db = new sqlStatic.Database(data);\n  // }\n\n  async loadAllNodeTree(): Promise<CherryNode[]> {\n    const result: CherryNode[] = [];\n    const querySql = this.db.prepare(\n      \"select c.node_id,c.father_id,c.sequence,n.name,n.syntax,n.is_richtxt,n.has_codebox,n.has_table,n.has_image,n.level,n.ts_creation,n.ts_lastsave from children c left join node n on c.node_id=n.node_id;\"\n    );\n    const fatherMap = new Map<number, CherryNode>();\n    while (querySql.step()) {\n      const row = querySql.getAsObject();\n      const father_id: number = <number>row[\"father_id\"];\n      const node_id: number = <number>row[\"node_id\"];\n      const node = new CherryNode(\n        node_id,\n        father_id,\n        <string>row[\"name\"],\n        <string>row[\"syntax\"],\n        <number>row[\"is_richtxt\"],\n        <number>row[\"has_codebox\"],\n        <number>row[\"has_table\"],\n        <number>row[\"has_image\"],\n        <number>row[\"level\"],\n        <number>row[\"ts_creation\"],\n        <number>row[\"ts_lastsave\"]\n      );\n      fatherMap.set(node_id, node);\n      if (node.getFatherId() == 0) {\n        result.push(node);\n      }\n    }\n    querySql.free();\n    fatherMap.forEach((node, node_id, map) => {\n      const parent_node = map.get(node.getFatherId());\n      if (parent_node) {\n        let children = parent_node.getChildren();\n        if (children == null) {\n          children = [];\n          parent_node.setChildren(children);\n        }\n        children.push(node);\n      }\n    });\n\n    return result;\n  }\n}\n","import VConsole from \"vconsole\";\n\nexport class VConsoleTool {\n  private static console: VConsole;\n  public static getVConsole(): VConsole {\n    if (VConsoleTool.console == null) {\n      VConsoleTool.console = new VConsole();\n    }\n    return VConsoleTool.console;\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport CherryReader from \"@/components/CherryReader.vue\";\nimport CherryTree from \"./cherrytree/CherryTree\";\nimport { CtbCherryTreeDao } from \"./cherrytree/CtbCherryTreeDao\";\nimport CherryNode from \"./cherrytree/CherryNode\";\nimport { VConsoleTool } from \"./sql/VConsoleTool\";\ntype TreeNode = {\n  id: number;\n  name: string;\n  children: TreeNode[];\n};\nexport default Vue.extend({\n  name: \"App\",\n\n  components: {\n    CherryReader,\n  },\n\n  data: () => {\n    return {\n      isShowDebug: false,\n      errorMsg: \"\",\n      isShowErrorMsg: false,\n      isShowInputDialog: false,\n      isLoading: false,\n      remoteUrl: \"\",\n      txt: \"\",\n      showNav: true,\n      cherrytree: new CherryTree(),\n    };\n  },\n  methods: {\n    onDebugSwitch(): void {\n      if (this.isShowDebug) {\n        VConsoleTool.getVConsole().showSwitch();\n      } else {\n        VConsoleTool.getVConsole().hideSwitch();\n      }\n    },\n    async onUploadFile(file: File) {\n      if (!file.name.endsWith(\"ctb\")) {\n        this.showErrorMsg(\"please upload a .ctb file\");\n        return;\n      }\n      this.parseCtbFile(file);\n    },\n    async loadFromUrl(): Promise<void> {\n      this.isShowInputDialog = false;\n      this.isLoading = true;\n      console.log(\"try load:\" + this.remoteUrl);\n      try {\n        const xhr = new XMLHttpRequest();\n\n        xhr.open(\"GET\", this.remoteUrl, true);\n        xhr.responseType = \"arraybuffer\";\n\n        xhr.onload = async (e) => {\n          console.log(e);\n          try {\n            const uInt8Array = new Uint8Array(xhr.response);\n\n            let cherrytreedao = new CtbCherryTreeDao(\n              new Uint8Array(uInt8Array)\n            );\n            await this.cherrytree.init(cherrytreedao);\n          } catch (e) {\n            this.showErrorMsg(\"load file fail:\" + e);\n          }\n          this.isLoading = false;\n          this.showNav = true;\n        };\n        xhr.onerror = (e) => {\n          console.log(\"load error\", e);\n          this.showErrorMsg(\"load fail!\");\n\n          this.isLoading = false;\n        };\n\n        xhr.send();\n      } catch (e) {\n        this.isLoading = false;\n\n        console.log(e);\n      }\n    },\n    async parseCtbFile(file: File): Promise<void> {\n      // firefox version lower 68 not support arrayBuffer,https://caniuse.com/?search=blob.arraybuffer\n      if (file.arrayBuffer == undefined) {\n        this.showErrorMsg(\n          \"Current brower not support arrayBuffer() function,please try another!\"\n        );\n        return;\n      }\n      console.log(\"upload file:\", file);\n      let cherrytreedao = new CtbCherryTreeDao(\n        new Uint8Array(await file.arrayBuffer())\n      );\n      await this.cherrytree.init(cherrytreedao);\n      this.showNav = true;\n    },\n    toTreeData(cherryNode: CherryNode): TreeNode {\n      let result: TreeNode = {\n        id: cherryNode.getNodeId(),\n        name: cherryNode.getName(),\n        children: [],\n      };\n      let children = [];\n      for (let cherryItem of cherryNode.getChildren()) {\n        let temp = this.toTreeData(cherryItem);\n        children.push(temp);\n      }\n      result.children = children;\n\n      return result;\n    },\n    onClickNav(item: number[]): void {\n      if (item.length == 0) {\n        return;\n      }\n      let node_id = item[0];\n      let txt = this.cherrytree.getNodeTxtById(node_id);\n      this.txt = txt;\n    },\n    showErrorMsg(msg: string): void {\n      this.errorMsg = msg;\n      this.isShowErrorMsg = true;\n    },\n  },\n  computed: {\n    getCurrentNavTree(): TreeNode[] {\n      let treeData: TreeNode[] = [];\n      if (this.cherrytree == null) {\n        return treeData;\n      }\n      for (let cherryNode of this.cherrytree.getNodes()) {\n        treeData.push(this.toTreeData(cherryNode));\n      }\n      return treeData;\n    },\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2fb7d7de&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=2fb7d7de&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fb7d7de\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VApp,VAppBar,VAppBarNavIcon,VBtn,VCard,VCardActions,VCardText,VDialog,VDivider,VFileInput,VIcon,VMain,VNavigationDrawer,VOverlay,VProgressCircular,VSnackbar,VSpacer,VSwitch,VTextField,VTreeview})\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib/framework\";\n\nVue.use(Vuetify);\n\nexport default new Vuetify({});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport vuetify from \"./plugins/vuetify\";\nimport SQLTool from \"./sql/SQLTool\";\nimport { VConsoleTool } from \"./sql/VConsoleTool\";\n\nVue.config.productionTip = false;\n\n// VConsoleTool.getVConsole();\nSQLTool.initSql();\nnew Vue({\n  vuetify,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}